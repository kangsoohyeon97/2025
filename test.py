import streamlit as st

# νμ΄μ§€ μ„¤μ •
st.set_page_config(page_title="μ·¨ν–¥ ν…μ¤νΈ & μ·¨λ―Έ μ¶”μ²", page_icon="π―", layout="centered")
st.title("π― μ·¨ν–¥ ν…μ¤νΈ & μ·¨λ―Έ μ¶”μ²")

# μ§λ¬Έκ³Ό μ„ νƒμ§€ (κ° μ„ νƒμ§€λ” μ„±ν–¥ νƒκ·Έμ™€ μ—°κ²°)
questions = [
    {"q": "μ‰¬λ” λ‚  κ°€μ¥ ν•κ³  μ‹¶μ€ κ±΄?", "options": {"μ§‘μ—μ„ μν™” λ³΄κΈ°": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μΉκµ¬ λ§λ‚λ¬ λ‚κ°€κΈ°": ["μ™Έν–¥"], "μ—¬ν–‰ κ°€κΈ°": ["μμ ","μ‹¤μ™Έ"], "μ§‘μ—μ„ λ°€λ¦° μΌ μ²λ¦¬": ["κ³„ν","μ‹¤λ‚΄"]}},
    {"q": "λ¬΄μ—‡μ„ ν•  λ• κ°€μ¥ ν–‰λ³µν•΄?", "options": {"νΌμ μ„±μ·¨ν•  λ•": ["λ‚΄ν–¥","κ³„ν"], "μ‚¬λλ“¤κ³Ό μ›ƒκ³  λ– λ“¤ λ•": ["μ™Έν–¥"], "μ¦‰ν¥μ μΌλ΅ μƒλ΅μ΄ κ±Έ μ‹λ„ν•  λ•": ["μμ "], "μ΅°μ©ν μ‰¬λ©΄μ„ μ¶©μ „ν•  λ•": ["λ‚΄ν–¥","μ‹¤λ‚΄"]}},
    {"q": "μΉκµ¬λ“¤μ΄ λ‹Ήμ‹ μ„ λ­λΌκ³  ν• κΉ?", "options": {"μ°¨λ¶„ν•κ³  μ΅°μ©ν•λ‹¤": ["λ‚΄ν–¥"], "μ—λ„μ§€κ°€ λ„μΉλ‹¤": ["μ™Έν–¥"], "κ³„νμ μ΄κ³  κΌΌκΌΌν•λ‹¤": ["κ³„ν"], "μ¦‰ν¥μ μ΄κ³  μμ λ΅­λ‹¤": ["μμ "]}},
    {"q": "μ—¬ν–‰ μ¤νƒ€μΌμ€?", "options": {"μ™μ†μ—λ§ λ¨Έλ¬Όλ©° ν΄μ‹": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "κ΄€κ΄‘μ§€λ¥Ό λΉ λ¥΄κ² λλ©° κ²½ν—": ["μ™Έν–¥","μ‹¤μ™Έ"], "μ¦‰ν¥μ μΌλ΅ κ³„ν μ—†μ΄ μ—¬ν–‰": ["μμ "], "μ„Έλ¶€ μΌμ •κΉμ§€ κΌΌκΌΌν κ³„ν": ["κ³„ν"]}},
    {"q": "μΉκµ¬ λ¨μ„μ—μ„ λ‚λ”?", "options": {"μ΅°μ©ν μ°Έμ—¬": ["λ‚΄ν–¥"], "μ£Όλ„μ μΌλ΅ λ¶„μ„κΈ° μ΄λκΈ°": ["μ™Έν–¥"], "μ¦‰ν¥μ μΈ ν™λ™ μ μ•": ["μμ "], "λ¨μ„ κ³„ν λ―Έλ¦¬ μ¤€λΉ„": ["κ³„ν"]}},
    {"q": "μ£Όλ§μ— ν•λ” μ΄λ™μ€?", "options": {"μ§‘μ—μ„ μ”κ°€": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μ•Όμ™Έ λ‹¬λ¦¬κΈ°": ["μ‹¤μ™Έ"], "μƒλ΅μ΄ μ¤ν¬μΈ  μ²΄ν—": ["μμ ","μ‹¤μ™Έ"], "μ •ν•΄μ§„ λ£¨ν‹΄ μ΄λ™": ["κ³„ν","μ‹¤λ‚΄"]}},
    {"q": "μμ•… μ·¨ν–¥μ€?", "options": {"μ”μ”ν•κ³  μ°¨λ¶„ν• μμ•…": ["λ‚΄ν–¥"], "μ‹ λ‚λ” λ„μ¤κ³΅": ["μ™Έν–¥"], "λ‹¤μ–‘ν• μ¥λ¥΄ νƒμƒ‰": ["μμ "], "ν”λ μ΄λ¦¬μ¤νΈ λ―Έλ¦¬ κ³„ν": ["κ³„ν"]}},
    {"q": "μ‡Όν•‘ μ¤νƒ€μΌμ€?", "options": {"μ¨λΌμΈμΌλ΅ νΌμ κµ¬λ§¤": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μΉκµ¬μ™€ κ°™μ΄ μ‡Όν•‘": ["μ™Έν–¥"], "μ¶©λ™κµ¬λ§¤ μ¦κΉ€": ["μμ "], "λ¦¬μ¤νΈ λ³΄κ³  κ³„νμ μΌλ΅ κµ¬λ§¤": ["κ³„ν"]}},
    {"q": "ν•λ£¨ μΌκ³Ό μ¤‘ κ°€μ¥ μ¤‘μ”μ‹ ν•λ” κ±΄?", "options": {"νΌμλ§μ μ‹κ°„": ["λ‚΄ν–¥"], "μ‚¬λκ³Όμ μ†ν†µ": ["μ™Έν–¥"], "μ¦‰ν¥μ  μ¦κ±°μ›€": ["μμ "], "κ³„νλ μ‹κ°„ ν™μ©": ["κ³„ν"]}},
    {"q": "λ…μ„ μ·¨ν–¥μ€?", "options": {"μ΅°μ©ν νΌμ μ½κΈ°": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "ν† λ΅ ν•λ©° μ½κΈ°": ["μ™Έν–¥"], "μƒλ΅μ΄ μ¥λ¥΄ μ‹λ„": ["μμ "], "μ¶”μ² λ©λ΅ κΈ°λ° κ³„νμ  μ½κΈ°": ["κ³„ν"]}},
    {"q": "μμ‹ μ„ νƒ κΈ°μ¤€μ€?", "options": {"νΈμ•ν• μ§‘λ°¥": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μ—¬λΏμ΄ κ°™μ΄ μ¦κΈ°κΈ°": ["μ™Έν–¥"], "μƒλ΅μ΄ λ©”λ‰΄ λ„μ „": ["μμ "], "μ‹λ‹¨ κ³„ν μ² μ €": ["κ³„ν"]}},
    {"q": "μ·¨λ―Έ μ‹κ°„μ€?", "options": {"νΌμ μ΅°μ©ν μ¦κΈ°κΈ°": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μΉκµ¬μ™€ ν•¨κ» μ¦κΈ°κΈ°": ["μ™Έν–¥"], "μƒλ΅μ΄ μ·¨λ―Έ νƒμƒ‰": ["μμ "], "μ •ν•΄μ§„ λ£¨ν‹΄μΌλ΅ μ¦κΉ€": ["κ³„ν"]}},
    {"q": "μ¤νΈλ μ¤ ν•΄μ† λ°©λ²•μ€?", "options": {"νΌμ λ…μƒ": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μ‚¬λλ“¤κ³Ό μλ‹¤": ["μ™Έν–¥"], "μ¦‰ν¥μ  μ—¬ν–‰": ["μμ ","μ‹¤μ™Έ"], "μ΄λ™ λ£¨ν‹΄": ["κ³„ν","μ‹¤λ‚΄"]}},
    {"q": "μν™” μ·¨ν–¥μ€?", "options": {"μ΅°μ©ν• λ“λΌλ§": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μ•΅μ…/μ½”λ―Έλ””": ["μ™Έν–¥"], "μ‹¤ν—μ /λ…λ¦½μν™”": ["μμ "], "μ •ν•΄μ§„ μ¥λ¥΄ μ¦κΉ€": ["κ³„ν"]}},
    {"q": "μΌ μ²λ¦¬ λ°©μ‹μ€?", "options": {"νΌμ κΌΌκΌΌν": ["λ‚΄ν–¥","κ³„ν"], "ν€μ›ν¬ μ¤‘μ‹": ["μ™Έν–¥"], "μ¦‰ν¥μ μΌλ΅ μ²λ¦¬": ["μμ "], "μ²΄κ³„μ  κ³„νλ€λ΅": ["κ³„ν"]}},
    {"q": "μ£Όλ§ μ™Έμ¶μ€?", "options": {"μ§‘μ—μ„ ν΄μ‹": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μΉκµ¬ λ¨μ„": ["μ™Έν–¥"], "κ°‘μ‘μ¤λ¬μ΄ μ—¬ν–‰": ["μμ ","μ‹¤μ™Έ"], "κ³„νλ μΌμ • μ†ν™”": ["κ³„ν"]}},
    {"q": "SNS ν™μ©μ€?", "options": {"μ΅°μ©ν κµ¬κ²½": ["λ‚΄ν–¥"], "μμ£Ό μ†ν†µ": ["μ™Έν–¥"], "μƒλ΅μ΄ κΈ°λ¥ λ„μ „": ["μμ "], "κ³„νμ μΌλ΅ ν¬μ¤ν…": ["κ³„ν"]}},
    {"q": "μ„ λ¬Ό κ³ λ¥Ό λ• λ‚λ”?", "options": {"νΌμ κ³ λ―Ό": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μΉκµ¬μ™€ μƒμ": ["μ™Έν–¥"], "μ°½μμ /μ¦‰ν¥μ ": ["μμ "], "λ¦¬μ¤νΈ κΈ°λ° κ³„νμ  μ„ νƒ": ["κ³„ν"]}},
    {"q": "ν΄κ°€ κ³„νμ€?", "options": {"μ§‘μ—μ„ ν΄μ‹": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "μ—¬λΏκ³Ό μ—¬ν–‰": ["μ™Έν–¥","μ‹¤μ™Έ"], "μ¦‰ν¥ μ—¬ν–‰": ["μμ ","μ‹¤μ™Έ"], "μ„Έλ¶€ μΌμ • μ² μ € μ¤€λΉ„": ["κ³„ν"]}},
    {"q": "ν•™μµ/κ³µλ¶€ μ¤νƒ€μΌμ€?", "options": {"νΌμ μ§‘μ¤‘": ["λ‚΄ν–¥","μ‹¤λ‚΄"], "κ·Έλ£Ή μ¤ν„°λ””": ["μ™Έν–¥"], "μƒλ΅μ΄ λ°©μ‹ μ‹¤ν—": ["μμ "], "κ³„νν‘ λ”°λΌ ν•™μµ": ["κ³„ν"]}}
]

# μ„Έμ… μ΄κΈ°ν™”
if "answers" not in st.session_state:
    st.session_state.answers = {}

st.subheader("π“ μ§λ¬Έμ— λ‹µν•΄μ£Όμ„Έμ”")

# μ§λ¬Έ μ¶λ ¥
for i, q in enumerate(questions):
    st.session_state.answers[i] = st.radio(
        f"{i+1}. {q['q']}",
        list(q["options"].keys()),
        key=f"q_{i}"
    )

# κ²°κ³Ό λ²„νΌ
if st.button("κ²°κ³Ό λ³΄κΈ°"):
    # μ μ μ§‘κ³„
    scores = {"λ‚΄ν–¥":0, "μ™Έν–¥":0, "κ³„ν":0, "μμ ":0, "μ‹¤λ‚΄":0, "μ‹¤μ™Έ":0}
    for i, q in enumerate(questions):
        ans = st.session_state.answers[i]
        traits = q["options"][ans]
        for t in traits:
            scores[t] += 1

    # λ€ν‘ μ„±ν–¥ λ„μ¶
    main_traits = [
        "λ‚΄ν–¥" if scores["λ‚΄ν–¥"] >= scores["μ™Έν–¥"] else "μ™Έν–¥",
        "κ³„ν" if scores["κ³„ν"] >= scores["μμ "] else "μμ ",
        "μ‹¤λ‚΄" if scores["μ‹¤λ‚΄"] >= scores["μ‹¤μ™Έ"] else "μ‹¤μ™Έ"
    ]

    st.subheader("π“ λ‹Ήμ‹ μ μ„±ν–¥")
    st.write(" π‘‰ " + " / ".join(main_traits))

    # μ·¨λ―Έ μ¶”μ²
    hobby_map = {
        ("λ‚΄ν–¥","κ³„ν","μ‹¤λ‚΄"): ["λ…μ„", "νΌμ¦ λ§μ¶”κΈ°", "κΈ€μ“°κΈ°"],
        ("λ‚΄ν–¥","μμ ","μ‹¤λ‚΄"): ["κ·Έλ¦Ό κ·Έλ¦¬κΈ°", "λ„·ν”λ¦­μ¤ κ°μƒ", "μ”λ¦¬"],
        ("μ™Έν–¥","κ³„ν","μ‹¤μ™Έ"): ["λ“±μ‚°", "μμ „κ±° νƒ€κΈ°", "λ‹¨μ²΄ μ¤ν¬μΈ "],
        ("μ™Έν–¥","μμ ","μ‹¤μ™Έ"): ["μ—¬ν–‰", "λ„μ¤", "λ³΄λ“κ²μ„ λ¨μ„"],
        ("μ™Έν–¥","μμ ","μ‹¤λ‚΄"): ["μ•…κΈ° μ—°μ£Ό", "λ³΄λ“κ²μ„", "μΏ ν‚Ή ν΄λμ¤"],
        ("λ‚΄ν–¥","κ³„ν","μ‹¤μ™Έ"): ["μ‚¬μ§„ μ°κΈ°", "μ΅°κΉ…", "μ •μ› κ°€κΎΈκΈ°"],
        ("λ‚΄ν–¥","μμ ","μ‹¤μ™Έ"): ["μΊ ν•‘", "μμ „κ±° μ—¬ν–‰", "μ‚¬μ§„ μ°κΈ°"],
        ("μ™Έν–¥","κ³„ν","μ‹¤λ‚΄"): ["μ”κ°€ ν΄λμ¤", "ν—¬μ¤", "κ·Έλ£Ή ν™λ™"],
    }
    hobby_recommend = hobby_map.get(tuple(main_traits), ["λ…μƒ", "μ‚°μ±…", "μ”λ¦¬"])

    st.subheader("π‰ μ¶”μ² μ·¨λ―Έ")
    for h in hobby_recommend:
        st.write(f"- {h}")
